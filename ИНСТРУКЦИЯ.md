# ü§ñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# –ù–∞ macOS/Linux:
source venv/bin/activate
# –ù–∞ Windows:
# venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ú–æ–π –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ë–æ—Ç")
4. –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞ (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot`, –Ω–∞–ø—Ä–∏–º–µ—Ä: `my_registration_bot`)
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –≤—ã–¥–∞—Å—Ç BotFather

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [supabase.com](https://supabase.com) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor** (–≤ –ª–µ–≤–æ–º –º–µ–Ω—é)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `setup_database.sql`
4. –ù–∞–∂–º–∏—Ç–µ **Run** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí API** –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - `URL` (–Ω–∞–ø—Ä–∏–º–µ—Ä: https://xxxxx.supabase.co)
   - `service_role key` (—ç—Ç–æ –¥–ª–∏–Ω–Ω—ã–π –∫–ª—é—á, –ù–ï anon key!)

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env.example` –∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤ `.env`:
   ```bash
   cp .env.example .env
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
   ```
   BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
   SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
   SUPABASE_KEY=–≤–∞—à_service_role_–∫–ª—é—á
   ```

### –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö email –≤ –ë–î

1. –í Supabase –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `users`
3. –ù–∞–∂–º–∏—Ç–µ **Insert ‚Üí Insert row**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ `email` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `user@example.com`)
5. –ù–∞–∂–º–∏—Ç–µ **Save**
6. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∑–∞–ø—Ä–æ—Å:

```sql
INSERT INTO users (email) VALUES 
  ('user1@example.com'),
  ('user2@example.com'),
  ('user3@example.com');
```

### –®–∞–≥ 6: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

–ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à–∏ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `media/`:

- `welcome_video.mp4` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∏–¥–µ–æ–∫—Ä—É–∂–æ–∫ (–∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –≤–∏–¥–µ–æ 1:1)
- `channel_request.jpg` - –∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫–∞–Ω–∞–ª–∞
- `final_message.jpg` - –∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `instruction.mp4` - –≤–∏–¥–µ–æ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π

**–í–∞–∂–Ω–æ:** –î–ª—è –≤–∏–¥–µ–æ–∫—Ä—É–∂–∫–∞ –Ω—É–∂–Ω–æ –∏–º–µ–Ω–Ω–æ –∫—Ä—É–≥–ª–æ–µ/–∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –≤–∏–¥–µ–æ!

### –®–∞–≥ 7: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python bot.py
```

–ï—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
INFO:__main__:–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!
```

## üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –ø–æ username
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
4. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –±–æ—Ç–∞

## ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤

–í—Å–µ —Ç–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ **`messages.py`**

–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –Ω—É–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

```python
MSG_ASK_EMAIL = """
–í–∞—à –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å!

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <b>–∂–∏—Ä–Ω—ã–π</b> –∏ <i>–∫—É—Ä—Å–∏–≤</i>
"""
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ HTML —Ç–µ–≥–∏:
- `<b>—Ç–µ–∫—Å—Ç</b>` –∏–ª–∏ `<strong>—Ç–µ–∫—Å—Ç</strong>` - –∂–∏—Ä–Ω—ã–π
- `<i>—Ç–µ–∫—Å—Ç</i>` –∏–ª–∏ `<em>—Ç–µ–∫—Å—Ç</em>` - –∫—É—Ä—Å–∏–≤
- `<u>—Ç–µ–∫—Å—Ç</u>` - –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π
- `<code>—Ç–µ–∫—Å—Ç</code>` - –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç
- `<a href="url">—Ç–µ–∫—Å—Ç</a>` - —Å—Å—ã–ª–∫–∞

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π –∫ –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞–º

–ï—Å–ª–∏ –≤–∞—à–∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥—Ä—É–≥–æ–π –ø–∞–ø–∫–µ –∏–ª–∏ –∏–º–µ—é—Ç –¥—Ä—É–≥–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª **`config.py`**:

```python
WELCOME_VIDEO_NOTE_PATH = "–ø—É—Ç—å/–∫/–≤–∞—à–µ–º—É/–≤–∏–¥–µ–æ.mp4"
CHANNEL_REQUEST_IMAGE_PATH = "–ø—É—Ç—å/–∫/–≤–∞—à–µ–π/–∫–∞—Ä—Ç–∏–Ω–∫–µ.jpg"
# –∏ —Ç.–¥.
```

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ó–∞–π–¥–∏—Ç–µ –≤ Supabase ‚Üí **Table Editor** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `users`

–í—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- Email
- Telegram ID
- –ò–º—è
- Username
- –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª
- –°–æ—Å—Ç–æ—è–Ω–∏–µ (state)

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞ VPS (Ubuntu/Debian)

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server.com

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∏ pip
sudo apt update
sudo apt install python3 python3-pip python3-venv

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
git clone your-repo-url
cd your-project

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª
nano .env
# (–≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ)

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –≤ —Ñ–æ–Ω–µ —Å –ø–æ–º–æ—â—å—é screen –∏–ª–∏ systemd
screen -S bot
python bot.py
# –ù–∞–∂–º–∏—Ç–µ Ctrl+A+D –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ screen
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ systemd (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/systemd/system/telegram-bot.service`:

```ini
[Unit]
Description=Telegram Bot
After=network.target

[Service]
Type=simple
User=–≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
WorkingDirectory=/–ø—É—Ç—å/–∫/–±–æ—Ç—É
Environment="PATH=/–ø—É—Ç—å/–∫/–±–æ—Ç—É/venv/bin"
ExecStart=/–ø—É—Ç—å/–∫/–±–æ—Ç—É/venv/bin/python bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

–ó–∞—Ç–µ–º:

```bash
sudo systemctl daemon-reload
sudo systemctl enable telegram-bot
sudo systemctl start telegram-bot
sudo systemctl status telegram-bot
```

## üîç –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å. –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ systemd:

```bash
sudo journalctl -u telegram-bot -f
```

## ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### Email –Ω–µ –Ω–∞–π–¥–µ–Ω, —Ö–æ—Ç—è –æ–Ω –µ—Å—Ç—å –≤ –ë–î
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ email –≤ –ë–î –≤–≤–µ–¥–µ–Ω —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä –∏ –ø—Ä–æ–±–µ–ª—ã)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ SUPABASE_KEY –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å service_role key)

### –ö–∞–Ω–∞–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ –∑–∞–∫—Ä—ã—Ç—ã–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—É–±–ª–∏—á–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –∫–∞–Ω–∞–ª–∞ –µ—Å—Ç—å username (@channel_name)
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª —á–µ—Ä–µ–∑ t.me/channel_name –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ø–∞–ø–∫–µ `media/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π –≤ `config.py`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ (Telegram –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

## üìû –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (state):

- `new` - –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Ç–æ–ª—å–∫–æ –∑–∞—à–µ–ª
- `waiting_email` - –æ–∂–∏–¥–∞–µ—Ç –≤–≤–æ–¥ email
- `waiting_channel` - –æ–∂–∏–¥–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª
- `registered` - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω

–°–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î.

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞:

1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ `messages.py`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `bot.py`
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ –ë–î —á–µ—Ä–µ–∑ `setup_database.sql`
4. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î –≤ `database.py`

---

# üéì –°–ò–°–¢–ï–ú–ê –ö–£–†–°–ê "–†–ê–ó–ì–û–ù"

## üìö –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –∫—É—Ä—Å–∞

–ë–æ—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–∞—Å—Å—ã–ª–∫–∞–º–∏, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π —à—Ç—Ä–∞—Ñ–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

‚úÖ **14 –¥–Ω–µ–π –∫—É—Ä—Å–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –∑–∞–¥–∞–Ω–∏–π  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** - 3 –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –¥–µ–¥–ª–∞–π–Ω–æ–º  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ —à—Ç—Ä–∞—Ñ–æ–≤** - –¥–æ 4 —à—Ç—Ä–∞—Ñ–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º  
‚úÖ **–ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è** - "–ù–∞–ø–∏—à–∏ –ø–æ—Å—Ç" –∏ "–°–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ"  
‚úÖ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á** - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é  
‚úÖ **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** - –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –∏ –≤—Ä–µ–º—è –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—é—Ç—Å—è  

---

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—É—Ä—Å–∞

### –®–∞–≥ 1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç `setup_course_database.sql` –≤ Supabase SQL Editor:

```sql
-- –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–∏—Ç:
-- 1. –ù–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü—É users (penalties, current_task, course_state)
-- 2. –¢–∞–±–ª–∏—Ü—É course_tasks –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π
-- 3. –¢–∞–±–ª–∏—Ü—É course_state –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫—É—Ä—Å–∞
```

### –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –≤ 14 —Ç–∞–±–ª–∏—Ü–∞—Ö

SQL —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–ª 14 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü: `digest_day_1`, `digest_day_2`, ... `digest_day_14`.

–ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–ª–æ–Ω–∫–∏:
- **zadanie** - –¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è (HTML —Ñ–æ—Ä–º–∞—Ç)
- **vopros_1** - –ü–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
- **vopros_2** - –í—Ç–æ—Ä–æ–π –≤–æ–ø—Ä–æ—Å  
- **vopros_3** - –¢—Ä–µ—Ç–∏–π –≤–æ–ø—Ä–æ—Å
- **prompt** - –ü—Ä–æ–º–ø—Ç –¥–ª—è –∑–∞–¥–∞–Ω–∏—è

**–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –í–†–£–ß–ù–£–Æ —á–µ—Ä–µ–∑ Table Editor:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase ‚Üí **Table Editor**
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `digest_day_1`
3. –ù–∞–∂–º–∏—Ç–µ **Insert ‚Üí Insert row**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - `zadanie`: `<b>–ü–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ</b><br>–û–ø–∏—à–∏—Ç–µ –≤–∞—à –∫–∞–Ω–∞–ª...`
   - `vopros_1`: `–ö–∞–∫–∞—è —Ç–µ–º–∞ –∫–∞–Ω–∞–ª–∞?`
   - `vopros_2`: `–ö—Ç–æ –∞—É–¥–∏—Ç–æ—Ä–∏—è?`
   - `vopros_3`: `–ö–∞–∫–∞—è –ø–æ–ª—å–∑–∞?`
   - `prompt`: `–°–æ–∑–¥–∞–π –ø–æ—Å—Ç-–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞...`
5. –ù–∞–∂–º–∏—Ç–µ **Save**
6. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è —Ç–∞–±–ª–∏—Ü `digest_day_2` ... `digest_day_14`

**–ß–µ—Ä–µ–∑ SQL (–ø—Ä–∏–º–µ—Ä –¥–ª—è digest_day_1):**

```sql
INSERT INTO digest_day_1 (zadanie, vopros_1, vopros_2, vopros_3, prompt) VALUES
(
  '<b>–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π</b><br><br>–°–æ–∑–¥–∞–π—Ç–µ –ø–æ—Å—Ç-–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ –¥–ª—è –≤–∞—à–µ–≥–æ –∫–∞–Ω–∞–ª–∞...',
  '–ö–∞–∫–∞—è –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞ –≤–∞—à–µ–≥–æ –∫–∞–Ω–∞–ª–∞?',
  '–ö—Ç–æ –≤–∞—à–∞ —Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è?',
  '–ö–∞–∫—É—é –ø–æ–ª—å–∑—É –ø–æ–ª—É—á–∞—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–∏?',
  '–°–æ–∑–¥–∞–π –ø–æ—Å—Ç-–∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞ –æ [—Ç–µ–º–∞]...'
);
```

**–í–∞–∂–Ω–æ:** –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –í–°–ï 14 —Ç–∞–±–ª–∏—Ü –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∫—É—Ä—Å–∞!

### –®–∞–≥ 3: –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π Telegram ID

1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)
2. –û–Ω –ø—Ä–∏—à–ª–µ—Ç –≤–∞–º –≤–∞—à ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ

### –®–∞–≥ 4: –£–∑–Ω–∞–π—Ç–µ ID —á–∞—Ç–∞ –∫—É—Ä—Å–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É/—á–∞—Ç –¥–ª—è –∫—É—Ä—Å–∞ –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞ –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot)
3. –û–Ω –ø—Ä–∏—à–ª–µ—Ç ID —á–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `-1001234567890`)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ
5. **–í–∞–∂–Ω–æ:** –°–¥–µ–ª–∞–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —á–∞—Ç–∞ —Å –ø—Ä–∞–≤–æ–º –∏—Å–∫–ª—é—á–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env` (—Å–º. `ENV_EXAMPLE.txt`):

```env
# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
ADMIN_IDS=123456789,987654321

# ID —á–∞—Ç–∞ –∫—É—Ä—Å–∞ (–æ—Ç–∫—É–¥–∞ –∏—Å–∫–ª—é—á–∞—Ç—å –ø—Ä–∏ 3 —à—Ç—Ä–∞—Ñ–∞—Ö)
COURSE_CHAT_ID=-1001234567890

# ID —á–∞—Ç–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç—á–µ—Ç—ã)
MONITORING_CHAT_ID=-1001234567891

# –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞
TIMEZONE=Europe/Moscow
```

### –®–∞–≥ 6: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ –∫—É—Ä—Å–∞

–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞–ø–∫–∏:

**–ó–∞–¥–∞–Ω–∏—è (14 —à—Ç—É–∫):**
```
media/tasks/task_1.jpg
media/tasks/task_2.jpg
...
media/tasks/task_14.jpg
```

**–®—Ç—Ä–∞—Ñ—ã (–û–î–ù–ê –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è –í–°–ï–•):**
```
media/penalties/penalty.jpg  - –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è –≤—Å–µ—Ö —à—Ç—Ä–∞—Ñ–æ–≤ (1, 2, 3, 4+)
```

**–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–¢–†–ò —Ä–∞–∑–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏):**
```
media/reminders/reminder_1.jpg  - –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è 1-–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (8:50)
media/reminders/reminder_2.jpg  - –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è 2-–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (9:20)
media/reminders/reminder_3.jpg  - –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è 3-–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (9:35)
```

---

## üìÖ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫—É—Ä—Å

### –ó–∞–ø—É—Å–∫ –∫—É—Ä—Å–∞

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫—É—Ä—Å –∫–æ–º–∞–Ω–¥–æ–π `/razgon_start`:

1. –ö—É—Ä—Å –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. –í—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`state = registered`) –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫—É—Ä—Å
3. –ò–º –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è `course_state = in_progress` –∏ `current_task = 1`
4. **–°—Ä–∞–∑—É –∂–µ** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ü–∏–∫–ª (2-14 –¥–µ–Ω—å)

**10:00** - –†–∞—Å—Å—ã–ª–∫–∞ –∑–∞–¥–∞–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å –∑–∞–¥–∞–Ω–∏–µ–º
- –¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ë–î
- –ö–Ω–æ–ø–∫–∏: "‚úçÔ∏è –ù–∞–ø–∏—à–∏ –ø–æ—Å—Ç" –∏ "üì§ –°–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ"

**–í —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–°–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ"
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ (—Ç–µ–∫—Å—Ç/—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ)
- –ó–∞–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è

**–°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å:**

**08:50** - –ü–µ—Ä–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ  
**09:20** - –í—Ç–æ—Ä–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ  
**09:35** - –¢—Ä–µ—Ç—å–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ  

–í –∫–∞–∂–¥–æ–º –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–∏:
- –ö–∞—Ä—Ç–∏–Ω–∫–∞
- –¢–µ–∫—Å—Ç —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º
- –í—Ä–µ–º—è –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è —Å–¥–∞—á–∏ –∑–∞–¥–∞–Ω–∏—è

**09:50** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∫—Ç–æ –ù–ï —Å–¥–∞–ª –∑–∞–¥–∞–Ω–∏–µ
- –ù–µ —Å–¥–∞–≤—à–∏–º –≤—ã–¥–∞–µ—Ç—Å—è —à—Ç—Ä–∞—Ñ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –¥–Ω—é
- –í 10:00 —Ä–∞—Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### –°–∏—Å—Ç–µ–º–∞ —à—Ç—Ä–∞—Ñ–æ–≤

**1 —à—Ç—Ä–∞—Ñ:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ `penalty_1.jpg`
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: "–£ –≤–∞—Å 1 —à—Ç—Ä–∞—Ñ –∏–∑ 3"

**2 —à—Ç—Ä–∞—Ñ–∞:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ `penalty_2.jpg`
- –°—Ç—Ä–æ–≥–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: "–ï—â–µ –æ–¥–∏–Ω –ø—Ä–æ–ø—É—Å–∫ = –∏—Å–∫–ª—é—á–µ–Ω–∏–µ!"

**3 —à—Ç—Ä–∞—Ñ–∞:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ `penalty_3.jpg`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è –∏–∑ —á–∞—Ç–∞ –∫—É—Ä—Å–∞**
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `excluded`
- –ë–æ–ª—å—à–µ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏

**4+ —à—Ç—Ä–∞—Ñ–∞:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ `penalty_4.jpg`
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏–∏

### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫—É—Ä—Å–∞ (–¥–µ–Ω—å 14)

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è 14-–≥–æ –∑–∞–¥–∞–Ω–∏—è:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ
- –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à—Ç—Ä–∞—Ñ–æ–≤
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `completed`
- –ö—É—Ä—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

–í —Ñ–∞–π–ª–µ `config.py` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π:

```python
# –í—Ä–µ–º—è —Ä–∞—Å—Å—ã–ª–∫–∏ –∑–∞–¥–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10:00)
TASK_SEND_TIME = "10:00"

# –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
REMINDER_TIMES = ["08:50", "09:20", "09:35"]

# –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
CHECK_TIME = "09:50"

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –∫—É—Ä—Å–∞
COURSE_DAYS = 14

# –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞
TIMEZONE = "Europe/Moscow"
```

### –ü—Ä–∏–º–µ—Ä—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏:

**–†–∞—Å—Å—ã–ª–∫–∞ –≤ 9:00 –≤–º–µ—Å—Ç–æ 10:00:**
```python
TASK_SEND_TIME = "09:00"
REMINDER_TIMES = ["07:50", "08:20", "08:35"]
CHECK_TIME = "08:50"
```

**–¢–æ–ª—å–∫–æ 2 –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:**
```python
REMINDER_TIMES = ["09:00", "09:30"]
```

---

## üéØ –°–æ—Å—Ç–æ—è–Ω–∏—è –∫—É—Ä—Å–∞

### –°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (course_state):

- `not_started` - –ö—É—Ä—Å –Ω–µ –Ω–∞—á–∞—Ç (–Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- `in_progress` - –ê–∫—Ç–∏–≤–Ω–æ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –∫—É—Ä—Å–µ
- `waiting_task_1` - –û–∂–∏–¥–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ 1 (–ø–æ—Å–ª–µ —Å–¥–∞—á–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ)
- `waiting_task_2` - –û–∂–∏–¥–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ 2
- ... –¥–æ `waiting_task_14`
- `completed` - –ö—É—Ä—Å –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ
- `excluded` - –ò—Å–∫–ª—é—á–µ–Ω –∏–∑ –∫—É—Ä—Å–∞ (3+ —à—Ç—Ä–∞—Ñ–∞)

### –ü–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ users:

```sql
penalties INTEGER           -- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à—Ç—Ä–∞—Ñ–æ–≤ (0-4)
current_task INTEGER        -- –ù–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è (0-14)
course_state VARCHAR(50)    -- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫—É—Ä—Å–∞
last_task_completed_at      -- –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
```

### 14 —Ç–∞–±–ª–∏—Ü –∑–∞–¥–∞–Ω–∏–π:

–ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ `digest_day_X` (–≥–¥–µ X = 1..14) —Å–æ–¥–µ—Ä–∂–∏—Ç:

```sql
zadanie TEXT        -- –¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è (HTML)
vopros_1 TEXT       -- –í–æ–ø—Ä–æ—Å 1
vopros_2 TEXT       -- –í–æ–ø—Ä–æ—Å 2
vopros_3 TEXT       -- –í–æ–ø—Ä–æ—Å 3
prompt TEXT         -- –ü—Ä–æ–º–ø—Ç –¥–ª—è –∑–∞–¥–∞–Ω–∏—è
```

–ë–æ—Ç –±–µ—Ä–µ—Ç –∑–∞–¥–∞–Ω–∏–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–Ω—è –∫—É—Ä—Å–∞.
–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –¥–Ω—è 1 - –∏–∑ `digest_day_1`, –∫–æ–ª–æ–Ω–∫–∞ `zadanie`.

---

## üîß –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –∫—É—Ä—Å–∞

–í—Å–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `messages.py` –≤ —Ä–∞–∑–¥–µ–ª–µ **–°–û–û–ë–©–ï–ù–ò–Ø –ö–£–†–°–ê**:

```python
# –†–∞—Å—Å—ã–ª–∫–∞ –∑–∞–¥–∞–Ω–∏—è
MSG_NEW_TASK = """
üìö <b>–î–ï–ù–¨ {day}/14</b>

<b>{title}</b>

{description}

üëá –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
"""

# –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
MSG_REMINDER = """
‚è∞ <b>–ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï</b>

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ!
...
"""

# –®—Ç—Ä–∞—Ñ—ã
MSG_PENALTY_1 = """
‚ö†Ô∏è <b>–í–ù–ò–ú–ê–ù–ò–ï: 1 –®–¢–†–ê–§–ù–û–ï –û–ß–ö–û</b>
...
"""

# –ò —Ç–∞–∫ –¥–∞–ª–µ–µ...
```

–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è!

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫—É—Ä—Å–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ Supabase

–û—Ç–∫—Ä–æ–π—Ç–µ **Table Editor** ‚Üí **users** –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

- `current_task` - –Ω–∞ –∫–∞–∫–æ–º –∑–∞–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `penalties` - —Å–∫–æ–ª—å–∫–æ —à—Ç—Ä–∞—Ñ–æ–≤
- `course_state` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫—É—Ä—Å–∞
- `last_task_completed_at` - –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏–ª –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–¢–∞–±–ª–∏—Ü–∞ **course_state** (—Ç–æ–ª—å–∫–æ 1 –∑–∞–ø–∏—Å—å):

- `is_active` - –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –∫—É—Ä—Å —Å–µ–π—á–∞—Å
- `current_day` - —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å –∫—É—Ä—Å–∞ (1-14)
- `start_date` - –∫–æ–≥–¥–∞ –∫—É—Ä—Å –±—ã–ª –∑–∞–ø—É—â–µ–Ω

### SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –≤ –∫—É—Ä—Å–µ:**
```sql
SELECT COUNT(*) FROM users WHERE course_state = 'in_progress';
```

**–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –∏—Å–∫–ª—é—á–µ–Ω–æ:**
```sql
SELECT COUNT(*) FROM users WHERE course_state = 'excluded';
```

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —à—Ç—Ä–∞—Ñ–∞–º:**
```sql
SELECT penalties, COUNT(*) FROM users 
WHERE course_state = 'in_progress' 
GROUP BY penalties 
ORDER BY penalties;
```

**–ö—Ç–æ –µ—â–µ –Ω–µ —Å–¥–∞–ª —Ç–µ–∫—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ:**
```sql
SELECT telegram_id, first_name, current_task, penalties 
FROM users 
WHERE course_state = 'in_progress' 
AND current_task = (SELECT current_day FROM course_state WHERE id = 1);
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ª–∏ –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é —Ç–∞–±–ª–∏—Ü—É
SELECT 'digest_day_1' as table_name, COUNT(*) as count FROM digest_day_1
UNION ALL
SELECT 'digest_day_2', COUNT(*) FROM digest_day_2
-- ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ digest_day_14
UNION ALL
SELECT 'digest_day_14', COUNT(*) FROM digest_day_14;
```

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ –∫—É—Ä—Å–µ

### –ö–∞–∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫—É—Ä—Å?

1. –°–±—Ä–æ—Å—å—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
```sql
UPDATE course_state SET is_active = FALSE, current_day = 0 WHERE id = 1;
```

2. –°–±—Ä–æ—Å—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```sql
UPDATE users SET 
  course_state = 'not_started',
  current_task = 0,
  penalties = 0,
  last_task_completed_at = NULL
WHERE state = 'registered';
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫—É—Ä—Å —Å–Ω–æ–≤–∞: `/razgon_start`

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –∫—É—Ä—Å–∞?

–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è. –ö—É—Ä—Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –Ω–∞—á–∞–ª–æ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.

–ï—Å–ª–∏ –æ—á–µ–Ω—å –Ω—É–∂–Ω–æ:
```sql
UPDATE users SET 
  course_state = 'in_progress',
  current_task = (SELECT current_day FROM course_state WHERE id = 1),
  penalties = 0
WHERE telegram_id = 123456789;
```

### –ö–∞–∫ –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é?

```sql
UPDATE users SET course_state = 'excluded' WHERE telegram_id = 123456789;
```

–ó–∞—Ç–µ–º –∏—Å–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –∏–∑ —á–∞—Ç–∞ –≤—Ä—É—á–Ω—É—é.

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫—É—Ä—Å –∞–∫—Ç–∏–≤–µ–Ω:
```sql
SELECT * FROM course_state WHERE id = 1;
```
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Ç–∞–±–ª–∏—Ü—ã `digest_day_1` ... `digest_day_14`:
```sql
SELECT * FROM digest_day_1;  -- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–ª—è –≤—Å–µ—Ö –¥–Ω–µ–π
```
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–æ–Ω—É –≤ `config.py`

### –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π?

–î–∞, –≤ `config.py`:
```python
COURSE_DAYS = 21  # –í–º–µ—Å—Ç–æ 14
```

–ù–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π –≤ –ë–î!

---

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python bot.py`
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ `/start`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫—É—Ä—Å: `/razgon_start`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏—à–ª–æ –ø–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
5. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–°–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ" –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ë–î, —á—Ç–æ `current_task` —É–≤–µ–ª–∏—á–∏–ª—Å—è

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Ä–∞—Å—Å—ã–ª–æ–∫ (–¥–ª—è —Ç–µ—Å—Ç–∞)

–î–æ–±–∞–≤—å—Ç–µ –≤ `bot.py` –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```python
@dp.message(Command("test_task"))
async def test_task(message: Message):
    if is_admin(message.from_user.id):
        await send_task_to_users(bot, 1)
        await message.answer("–ó–∞–¥–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!")

@dp.message(Command("test_reminder"))
async def test_reminder(message: Message):
    if is_admin(message.from_user.id):
        await send_reminder(bot, "test")
        await message.answer("–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!")
```

---

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∫—É—Ä—Å–æ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ `apscheduler`: `pip install apscheduler`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –æ—à–∏–±–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TIMEZONE` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –ö–æ–º–∞–Ω–¥–∞ /razgon_start –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –ø–∏—à–µ—Ç "–ö–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ADMIN_IDS` –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–Ω–∞–ø–∏—à–∏—Ç–µ @userinfobot)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è –∏–∑ —á–∞—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ 3 —à—Ç—Ä–∞—Ñ–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —á–∞—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `COURSE_CHAT_ID` –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —á–∞—Ç–∞
3. –î–∞–π—Ç–µ –±–æ—Ç—É –ø—Ä–∞–≤–æ "Ban users" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —á–∞—Ç–∞

### –ó–∞–¥–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–µ –≤ —Ç–æ –≤—Ä–µ–º—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Ä–µ–º—è —Ä–∞—Å—Å—ã–ª–∫–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `TASK_SEND_TIME`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TIMEZONE` –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

---

## üìä –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –ß—Ç–æ —ç—Ç–æ?

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á–µ—Ç—ã –æ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —á–∞—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Ç–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —á–∞—Ç:**
   - –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É –∏–ª–∏ –∫–∞–Ω–∞–ª –≤ Telegram
   - –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä: "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–æ—Ç–∞"

2. **–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞:**
   - –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ —ç—Ç–æ—Ç —á–∞—Ç
   - –ï—Å–ª–∏ —ç—Ç–æ –∫–∞–Ω–∞–ª, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

3. **–£–∑–Ω–∞–π—Ç–µ ID —á–∞—Ç–∞:**
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ @userinfobot –≤ —á–∞—Ç
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID —á–∞—Ç–∞ (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `-100`)

4. **–î–æ–±–∞–≤—å—Ç–µ –≤ .env:**
   ```env
   MONITORING_CHAT_ID=-1001234567891
   ```

### –ö–∞–∫–∏–µ –æ—Ç—á–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

#### 1. –†–∞—Å—Å—ã–ª–∫–∞ –∑–∞–¥–∞–Ω–∏—è (10:00)
```
üìä –†–ê–°–°–´–õ–ö–ê –ó–ê–î–ê–ù–ò–Ø –î–ù–Ø 1

‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 45
‚ùå –ù–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 2

‚è∞ –í—Ä–µ–º—è: 10:00
```

#### 2. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (8:50, 9:20, 9:35)
```
‚è∞ –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï 1 (8:50)

‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 23
‚ùå –ù–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 0

‚è∞ –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è: 8:50
```

#### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —à—Ç—Ä–∞—Ñ—ã (9:50)
```
‚ö†Ô∏è –ü–†–û–í–ï–†–ö–ê –ò –®–¢–†–ê–§–´ (9:50)

–í—Å–µ–≥–æ —à—Ç—Ä–∞—Ñ–æ–≤ –≤—ã–¥–∞–Ω–æ: 15

–ü–æ —Ç–∏–ø–∞–º:
‚Ä¢ 1 —à—Ç—Ä–∞—Ñ: 8 —á–µ–ª.
‚Ä¢ 2 —à—Ç—Ä–∞—Ñ–∞: 5 —á–µ–ª.
‚Ä¢ 3 —à—Ç—Ä–∞—Ñ–∞ (–ò–°–ö–õ–Æ–ß–ï–ù–ò–ï): 2 —á–µ–ª.
‚Ä¢ 4+ —à—Ç—Ä–∞—Ñ–∞: 0 —á–µ–ª.

üö´ –ò—Å–∫–ª—é—á–µ–Ω–æ –∏–∑ —á–∞—Ç–∞: 123456789, 987654321

‚è∞ –í—Ä–µ–º—è: 9:50
```

#### 4. –¢–∞–π–º–∞—É—Ç n8n
```
üî¥ –¢–ê–ô–ú–ê–£–¢ N8N

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 123456789 –Ω–µ –ø–æ–ª—É—á–∏–ª –æ—Ç–≤–µ—Ç –æ—Ç n8n –∑–∞ 3 –º–∏–Ω—É—Ç—ã

–ó–∞–¥–∞–Ω–∏–µ: 5
‚è∞ –í—Ä–µ–º—è: 14:35
```

#### 5. –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞ (23:59)
```
üìà –î–ù–ï–í–ù–ê–Ø –°–í–û–î–ö–ê
–î–∞—Ç–∞: 01.12.2025

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üì§ –†–ê–°–°–´–õ–ö–ò:

–ó–∞–¥–∞–Ω–∏–µ –¥–Ω—è (10:00):
‚îú –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 45
‚îî –ù–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 2

–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ 1 (8:50):
‚îî –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 23

–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ 2 (9:20):
‚îî –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 18

–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ 3 (9:35):
‚îî –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 12

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

‚ö†Ô∏è –®–¢–†–ê–§–´ (9:50):

–í—Å–µ–≥–æ: 15
‚îú 1 —à—Ç—Ä–∞—Ñ: 8
‚îú 2 —à—Ç—Ä–∞—Ñ–∞: 5
‚îú 3 —à—Ç—Ä–∞—Ñ–∞: 2 ‚ö†Ô∏è
‚îî 4+ —à—Ç—Ä–∞—Ñ–∞: 0

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

ü§ñ N8N:

–¢–∞–π–º–∞—É—Ç—ã (>3 –º–∏–Ω): 3
–û—à–∏–±–∫–∏: 0

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ

‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞** - –≤–∏–¥–Ω–æ, —Ä–∞–±–æ—Ç–∞—é—Ç –ª–∏ —Ä–∞—Å—Å—ã–ª–∫–∏  
‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** - —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–ª—É—á–∞—é—Ç –∑–∞–¥–∞–Ω–∏—è  
‚úÖ **–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - –∫—Ç–æ –ø–æ–ª—É—á–∏–ª 3 —à—Ç—Ä–∞—Ñ–∞ (–∏—Å–∫–ª—é—á–µ–Ω)  
‚úÖ **–ü—Ä–æ–±–ª–µ–º—ã —Å n8n** - –∫–∞–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç–≤–µ—Ç  
‚úÖ **–î–Ω–µ–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞** - –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç—á–µ—Ç—ã, –ø—Ä–æ—Å—Ç–æ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ `MONITORING_CHAT_ID` –≤ `.env`.

---

**–£–¥–∞—á–∏ —Å –∫—É—Ä—Å–æ–º "–†–∞–∑–≥–æ–Ω"! üöÄ**

